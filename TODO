Consider changing everything from vec3 to vec4
